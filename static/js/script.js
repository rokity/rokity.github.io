function writeUserData(e){db.collection("visitatori").add(e).then(function(e){console.log("Document written with ID: ",e.id)}).catch(function(e){console.error("Error adding document: ",e)})}function geolocation(){fetch("https://ipapi.co/json").then(function(e){return e.text()}).then(function(e){return JSON.parse(e)}).then(function(e){return console.log("aa"),writeUserData(e)}).catch(function(e){console.error(e)})}function renderingContainer(e,n,a){var t=document.getElementById(n);e.forEach(function(e,n,r){var i=document.createElement("div");i.className="row";var o=document.createElement("h3");o.className="gray "+a,o.innerHTML=e.period,i.appendChild(o),t.appendChild(i);var c=document.createElement("div");c.className="row";var d=document.createElement("h3");d.className="black "+a,d.innerHTML=e.company,c.appendChild(d);var s=document.createElement("h4");s.className="gray "+a,s.innerHTML=e.position,s.innerHTML+="</br> "+e.description,c.appendChild(s),t.appendChild(c)})}function renderingSubContainer(e,n){var a=document.getElementById("subcontainer"),t=document.createElement("div");t.className="row";var r=document.createElement("h3");r.className="black right",r.innerHTML=n,t.appendChild(r),a.appendChild(t),e.forEach(function(e,n,t){var r=document.createElement("div");r.className="row";var i=document.createElement("h4");i.className="gray right",e.value?i.innerHTML=e.value:i.innerHTML=e.mail+"</br>"+e.cell,r.appendChild(i),a.appendChild(r)})}const config={apiKey:"AIzaSyB7IA52cFpYfyQ4hYc3CU_XsFRwgkMHaCg",authDomain:"visitors-aeb4b.firebaseapp.com",databaseURL:"https://visitors-aeb4b.firebaseio.com",projectId:"visitors-aeb4b",storageBucket:"visitors-aeb4b.appspot.com",messagingSenderId:"37669232163"};firebase.initializeApp(config);var db=firebase.firestore();window.onload=function(){renderingContainer(experience,"experience","left"),renderingContainer(formation,"formation","right"),renderingSubContainer(certification,"CERTIFICATION"),renderingSubContainer(award,"AWARD"),renderingSubContainer(contact,"CONTACT"),geolocation()};